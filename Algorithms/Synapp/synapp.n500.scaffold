#define n 500 // problem size

int main () {

    qbit reg[n];  // qubit register
    
    int i;

    // initialize
    for ( i = 0; i < n; i++ ) {
        PrepZ( reg[i], 0 );
    }

    // red
    for ( i = 0; i < (n-2)/2+1; i++ ) {
        CNOT ( reg[2*i], reg[2*i+1] );
    }

    // black
    for ( i = 0; i < (n-4)/4+1; i++ ) {
        CNOT ( reg[4*i], reg[4*i+2] );
        CNOT ( reg[4*i+1], reg[4*i+3] );
    }

    return 0;
}
